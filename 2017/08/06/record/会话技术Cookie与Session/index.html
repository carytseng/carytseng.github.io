<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>会话技术Cookie与Session | Cary Tseng</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="CaryTseng">
  
  
    <meta name="description" content="介绍Web开发中常用的会话技术Cookie与Session">
  
  <meta name="description" content="介绍Web开发中常用的会话技术Cookie与Session">
<meta property="og:type" content="article">
<meta property="og:title" content="会话技术Cookie与Session">
<meta property="og:url" content="https://dogfun.top/2017/08/06/record/%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AFCookie%E4%B8%8ESession/index.html">
<meta property="og:site_name" content="Cary Tseng">
<meta property="og:description" content="介绍Web开发中常用的会话技术Cookie与Session">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2017-08-06T13:06:53.000Z">
<meta property="article:modified_time" content="2022-03-28T08:42:38.043Z">
<meta property="article:author" content="CaryTseng">
<meta property="article:tag" content="技术学习">
<meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Cary Tseng" type="application/atom+xml">
  
  
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">Cary Tseng</a></h1>
    <p><a href="/"></a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
      
        <li><a href="/atom.xml">RSS</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content"><article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2017/08/06/record/会话技术Cookie与Session/">
  <time datetime="2017-08-06T13:06:53.000Z">
    2017-08-06
  </time>
</a>
    
    
  
    <h1 class="title">会话技术Cookie与Session</h1>
  

  </header>
  
  <div class="entry">
    
      <h3 id="序"><a href="#序" class="headerlink" title="序"></a>序</h3><p>　　什么是会话？按照理解就是人与人之间建立的一次谈话称为会话，放到Web的语义下就是浏览器与服务端的一次数据交互。我们知道Http协议是无状态的，一次连接建立后，数据交互完就结束了，第二次请求如果浏览器的请求不带点标识，服务端是无从知道是哪个客户发消息来，这也就引出我们的主题，Web的会话跟踪技术—Cookie与Session。</p>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p>　　Cookie意为饼干，是一种客户端技术，当浏览器访问服务端时，服务端可以向响应Cookie中写入想要的内容，客户端就会保留相应的Cookie内容，在其后的请求中都会带上相应的内容，也就可以带上我们的用户标识。</p>
<h4 id="常见方法"><a href="#常见方法" class="headerlink" title="常见方法"></a>常见方法</h4><ul>
<li>public Cookie(String name,String value)</li>
<li>setValue与getValue方法</li>
<li>setMaxAge与getMaxAge方法</li>
<li>setPath与getPath方法</li>
<li>setDomain与getDomain方法</li>
<li>getName方法</li>
</ul>
<h4 id="不可跨域名"><a href="#不可跨域名" class="headerlink" title="不可跨域名"></a>不可跨域名</h4><p>　　Cookie是不能跨域名的，也就是a网站的Cookie是不能发到b网站去的。</p>
<h4 id="有效时间"><a href="#有效时间" class="headerlink" title="有效时间"></a>有效时间</h4><p>　　使用setMaxAge来设置过期时间，如果是整数，则表示在MaxAge秒前有效，会写入磁盘；如果是负数，则表明Cookie是临时的，在浏览器关闭前是有效的。</p>
<h4 id="没有修改和删除功能"><a href="#没有修改和删除功能" class="headerlink" title="没有修改和删除功能"></a>没有修改和删除功能</h4><p>　　修改就是用新值去覆盖旧值。</p>
<h4 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h4><p>　　domain属性决定了Cookie的域名，规定为”.域名”。</p>
<h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><p>　　是一种服务端技术，服务端会记录当前用户的相关信息，返回一个sessionId给客户端，那么下个请求就以sessionId唯一关联当前用户身份信息。</p>
<h4 id="常见方法-1"><a href="#常见方法-1" class="headerlink" title="常见方法"></a>常见方法</h4><ul>
<li>long getCreationTime();【获取Session被创建时间】</li>
<li><strong>String getId();【获取Session的id】</strong></li>
<li>long getLastAccessedTime();【返回Session最后活跃的时间】</li>
<li>ServletContext getServletContext();【获取ServletContext对象】</li>
<li><strong>void setMaxInactiveInterval(int var1);【设置Session超时时间】</strong></li>
<li><strong>int getMaxInactiveInterval();【获取Session超时时间】</strong></li>
<li><strong>Object getAttribute(String var1);【获取Session属性</strong>】</li>
<li>Enumeration getAttributeNames();【获取Session所有的属性名】</li>
<li><strong>void setAttribute(String var1, Object var2);【设置Session属性】</strong></li>
<li><strong>void removeAttribute(String var1);【移除Session属性】</strong></li>
<li><strong>void invalidate();【销毁该Session】</strong></li>
<li>boolean isNew();【该Session是否为新的】</li>
</ul>
<h4 id="生命周期与有效期"><a href="#生命周期与有效期" class="headerlink" title="生命周期与有效期"></a>生命周期与有效期</h4><p>　　用户首次访问服务端servlet则会创建session对象。只要用户持续访问，服务端都会更新session的最后访问时间，而为了防止内存溢出，会把长时间没有访问的session干掉。默认的超时时间是30min，可以修改。</p>

    
  </div>
  <footer>
    
      
  <div class="categories">
    <a class="categories-link" href="/categories/record/">record</a>
  </div>

      
  <div class="tags">
    <a class="tags-none-link" href="/tags/Web/" rel="tag">Web</a>, <a class="tags-none-link" href="/tags/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/" rel="tag">技术学习</a>
  </div>

    
    <div class="clearfix"></div>
  </footer>
</article>

</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2022 <a href="/">CaryTseng</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>